import{r,j as e,a as y,y as m}from"./app-veqlbRop.js";import{S}from"./SuperAdminLayout-CZDjE9N7.js";import b from"./GeneralInfoSection-BkMCAOLu.js";import _ from"./MaintenanceSection-DGEIv6CA.js";import N from"./PreviewPanel-CZyC2TrU.js";import{c as C}from"./createLucideIcon-CyTgOFtE.js";import{S as w}from"./save-C1kmD5Oy.js";import"./shield-CDJkofxC.js";import"./x-CXVp1HMM.js";import"./credit-card-Cew9DDo5.js";import"./search-Cjp4NVQJ.js";import"./globe-yg3PjqQS.js";import"./image-CHHIBJ-z.js";const E=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P=C("settings",E),K=({settings:a,countries:s})=>{const[t,d]=r.useState({site_name:a.site_name,operating_country_iso2:a.operating_country_iso2,maintenance_mode:a.maintenance_mode,maintenance_message:a.maintenance_message||"Estamos en mantenimiento. Vuelve pronto.",logo_path:a.logo_path||""}),[i,c]=r.useState(!1),[u,p]=r.useState(null),l=n=>{const{name:o,value:h,type:f,checked:j}=n.target;d(v=>({...v,[o]:f==="checkbox"?j:h}))},g=n=>{p(n||null)},x=n=>{n.preventDefault(),c(!0),y.put(route("settings.general.update"),t,{onFinish:()=>c(!1),onSuccess:()=>{m.success("¡Configuración guardada con éxito!",{position:"top-center",autoClose:3e3})},onError:o=>{m.error("Hubo un error al guardar la configuración"),console.error("Errores de validación:",o)}})},[G,L]=r.useState({});return e.jsxs(S,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(P,{className:"h-6 w-6 text-emerald-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuración General"})]}),e.jsx("p",{className:"text-gray-600",children:"Define el país de operación y la apariencia de tu tienda."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:x,className:"space-y-8",children:[e.jsx(b,{formData:t,countries:s,onChange:l,onLogoPreview:g}),e.jsx(_,{formData:t,onChange:l}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:i,className:"inline-flex items-center px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:[e.jsx(w,{className:"h-5 w-5 mr-2"}),i?"Guardando...":"Guardar Configuración"]})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(N,{formData:t,countries:s,logoPreview:u})})]})]})};export{K as default};
