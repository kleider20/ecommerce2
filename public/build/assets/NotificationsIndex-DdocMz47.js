import{r as n,j as e,H as N,a as c,y as f}from"./app-_a53eJXV.js";import{B as d}from"./bell-5ygFa6zN.js";import{C as b}from"./circle-alert-B-2kyTGY.js";import{P as x}from"./package-ThVmqjJG.js";import{G as m}from"./gift-CIVz6W8K.js";import{S as v}from"./star-D2SxmrUs.js";import"./createLucideIcon-mfdPizJi.js";const M=({notifications:s})=>{const[a,i]=n.useState(s.data),[l,u]=n.useState(s.data.filter(t=>!t.read).length),h=t=>{c.delete(`/notifications/${t}`,{onSuccess:()=>{i(r=>r.filter(p=>p.id!==t)),u(r=>Math.max(0,r-1)),f.success("Notificación eliminada")}})},g=t=>{switch(t){case"order":return e.jsx(x,{className:"w-5 h-5"});case"promotion":return e.jsx(m,{className:"w-5 h-5"});case"review":return e.jsx(v,{className:"w-5 h-5"});default:return e.jsx(d,{className:"w-5 h-5"})}},j=t=>{switch(t){case"order":return"bg-green-100 text-green-600";case"promotion":return"bg-purple-100 text-purple-600";case"review":return"bg-yellow-100 text-yellow-600";default:return"bg-blue-100 text-blue-600"}};return e.jsxs(AutoLayoutResolver,{children:[e.jsx(N,{title:"Notificaciones"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notificaciones"}),l>0&&e.jsx("button",{onClick:()=>c.post("/notifications/mark-all-read"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Marcar todas como leídas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(o,{title:"Total",value:s.data.length,icon:d}),e.jsx(o,{title:"No leídas",value:l,icon:b,color:"text-red-400"}),e.jsx(o,{title:"Pedidos",value:s.data.filter(t=>t.type==="order").length,icon:x,color:"text-green-400"}),e.jsx(o,{title:"Promociones",value:s.data.filter(t=>t.type==="promotion").length,icon:m,color:"text-purple-400"})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:a.length?a.map(t=>e.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${t.read?"":"bg-blue-50"}`,onClick:()=>c.visit(`/notifications/${t.id}`),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${j(t.type)}`,children:g(t.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:t.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.time})]}),e.jsx("button",{onClick:r=>{r.stopPropagation(),h(t.id)},className:"p-1 text-gray-400 hover:text-red-600",children:e.jsx(y,{className:"w-4 h-4"})})]})},t.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(d,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes notificaciones"})]})})]})]})},o=({title:s,value:a,icon:i,color:l="text-gray-400"})=>e.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:s}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:a})]}),e.jsx(i,{className:`w-6 h-6 ${l}`})]})}),y=({className:s})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});export{M as default};
