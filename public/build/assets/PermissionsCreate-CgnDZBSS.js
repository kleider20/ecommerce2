import{r as p,j as e,H as b,L as o,a as h}from"./app-_a53eJXV.js";import g from"./SuperAdminLayout-CCQsFycf.js";import{A as j}from"./arrow-left-KQyN4vOn.js";import{K as f}from"./key-CwcgV-lG.js";import{L as t}from"./lock-BBFl-MxT.js";import"./house-nF5WhPbl.js";import"./createLucideIcon-mfdPizJi.js";import"./shield-DOV3OaNY.js";import"./x-4WIxsUVG.js";import"./trending-up-Dm5AdOQw.js";import"./credit-card-BtWejAfS.js";import"./users-BHExP9oE.js";import"./building-2-DJTz4MDj.js";import"./search-CLMU0LJF.js";import"./bell-5ygFa6zN.js";const H=()=>{const[r,i]=p.useState({name:"",display_name:"",description:"",is_critical:!1,category:"general"}),d=[{value:"general",label:"General"},{value:"users",label:"Usuarios"},{value:"products",label:"Productos"},{value:"orders",label:"Pedidos"},{value:"settings",label:"Configuración"},{value:"system",label:"Sistema"}],l=s=>{const{name:a,value:c,type:m,checked:x}=s.target;i(u=>({...u,[a]:m==="checkbox"?x:c}))},n=s=>{s.preventDefault(),h.post(route("permissions.store"),r,{onSuccess:()=>{},onError:a=>{console.error("Errores de validación:",a)}})};return e.jsx(e.Fragment,{children:e.jsxs(g,{children:[e.jsx(b,{title:"Crear Nuevo Permiso"}),e.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{href:route("roles.index"),className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Volver a roles",children:e.jsx(j,{className:"w-5 h-5"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Crear Nuevo Permiso"}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Define un nuevo permiso para el sistema de roles y accesos"})]})]})}),e.jsxs("form",{onSubmit:n,className:"p-6 md:p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nombre técnico ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(f,{className:"w-5 h-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ej: edit_products",required:!0})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Nombre interno (solo letras, números y guiones bajos)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nombre para mostrar ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(t,{className:"w-5 h-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"display_name",value:r.display_name,onChange:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ej: Editar Productos",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),e.jsx("textarea",{name:"description",value:r.description,onChange:l,rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe qué permite este permiso..."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_critical",name:"is_critical",type:"checkbox",checked:r.is_critical,onChange:l,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),e.jsx("label",{htmlFor:"is_critical",className:"ml-2 text-sm font-medium text-gray-700",children:"Permiso crítico"}),e.jsxs("div",{className:"ml-2 group relative",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-blue-100 text-blue-800 text-xs font-medium",children:"?"}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:e.jsx("div",{className:"bg-gray-900 text-white text-xs rounded py-1 px-2 shadow-lg whitespace-nowrap",children:"No se puede eliminar si está asignado"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Categoría"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(s=>e.jsx("button",{type:"button",onClick:()=>i(a=>({...a,category:s.value})),className:`p-4 rounded-lg border-2 transition-all ${r.category===s.value?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-full h-8 ${s.value==="system"?"bg-red-100":s.value==="users"?"bg-green-100":"bg-gray-100"} rounded mb-2`}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:s.label})]})},s.value))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Vista previa"}),e.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(t,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.display_name||"Nombre del permiso"}),e.jsx("p",{className:"text-sm text-gray-500",children:r.description||"Descripción del permiso"})]})]}),r.is_critical&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 mt-3",children:[e.jsx(t,{className:"w-3 h-3 mr-1"})," Crítico"]})]})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsx(o,{href:route("roles.index"),className:"px-5 py-2.5 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),e.jsxs("button",{type:"submit",className:"px-5 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200 flex items-center",children:[e.jsx(t,{className:"w-4 h-4 mr-2"}),"Crear Permiso"]})]})]})]})})]})})};export{H as default};
