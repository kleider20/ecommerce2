import{c as t}from"./createLucideIcon-Cfm7QdwR.js";import{j as e}from"./app-DEWfI6fL.js";import{f as p}from"./formatCurrency-BtuVL3gA.js";import{C as j}from"./circle-alert-D6-vV6dP.js";import{T as u}from"./tag-DwcfixF0.js";import{T as w}from"./truck-DVaLdPMG.js";import{M as _}from"./map-pin-B4HTI18p.js";import{E as k}from"./eye-DaeH5UXN.js";import{P as z}from"./package-CRodxe_p.js";import{C}from"./clock-ByIpEQPt.js";const M=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],S=t("badge-check",M);const $=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],P=t("heart",$);const A=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],L=t("shield-check",A);const E=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Z=t("shopping-cart",E);const R=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],I=t("star",R),F=({product:s,userConfig:r,onToggleFavorite:x,isFavorite:m=!1,onViewDetails:d})=>{if(!r)return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100 flex flex-col h-full",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"aspect-square bg-gray-100 animate-pulse"})}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2 w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-3 w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2 w-3/4"}),e.jsxs("div",{className:"mt-auto flex gap-2",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg animate-pulse flex-1"}),e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full animate-pulse"})]})]})]});const h=r.exchange_rate_to_usd||1,c=s.price_usd*h,i=s.original_price_usd?s.original_price_usd*h:null,n=i&&i>c,y=n?Math.round(100-c/i*100):0,N=s.in_stock&&s.stock<=5&&s.stock>0,v=s.rating&&s.review_count>0,g=s.rating?parseFloat(s.rating):0,f=s.category&&typeof s.category=="object"?s.category.name:s.category,o=s.subcategory&&typeof s.subcategory=="object"?s.subcategory.name:s.subcategory;let a=null;return s.is_bestseller?a={text:"Más vendido",color:"bg-orange-100 text-orange-800",icon:z}:s.is_new?a={text:"Nuevo",color:"bg-green-100 text-green-800",icon:C}:o&&(a={text:o,color:"bg-purple-100 text-purple-800"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden border border-gray-100 hover:border-gray-200 group flex flex-col h-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-square",children:e.jsx("img",{src:s.image_url||`https://placehold.co/400x400/eff6ff/1e40af?text=${encodeURIComponent(s.name)}`,alt:s.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:l=>{l.target.src="https://placehold.co/400x400/f3f4f6/6b7280?text=Sin+imagen"}})}),e.jsx("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),x&&x(s.id)},className:"absolute top-3 right-3 w-8 h-8 bg-white/80 hover:bg-white rounded-full flex items-center justify-center shadow-sm transition-all duration-200 hover:scale-110 z-10","aria-label":m?"Quitar de favoritos":"Agregar a favoritos",children:e.jsx(P,{size:16,className:`${m?"fill-red-500 text-red-500":"text-gray-600"} transition-colors duration-200`})}),!s.in_stock&&e.jsxs("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-lg z-10",children:[e.jsx(j,{size:12}),"AGOTADO"]}),n&&e.jsxs("div",{className:"absolute top-10 left-3 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg z-10",children:["-",y,"%"]}),a&&!n&&s.in_stock&&e.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-md border border-gray-200 z-10",children:[a.icon&&e.jsx(a.icon,{size:12,className:"text-current"}),a.text]})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[e.jsxs("div",{className:"mb-3",children:[f&&e.jsx("div",{className:"mb-1",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-blue-100 text-blue-800 border border-blue-200",children:[e.jsx(u,{size:12,className:"mr-1"}),f]})}),(s.is_bestseller||s.is_new)&&a?e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs ${a.color} border border-current`,children:[a.icon&&e.jsx(a.icon,{size:12,className:"mr-1"}),a.text]}):o?e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-purple-100 text-purple-800 border border-purple-200",children:[e.jsx(u,{size:12,className:"mr-1"}),o]}):null]}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-2 line-clamp-2 leading-tight min-h-[44px]",children:s.name}),v&&e.jsxs("div",{className:"flex items-center gap-1 mb-2 text-xs text-gray-600",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((l,b)=>e.jsx(I,{size:14,className:`${b<Math.floor(g)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},b))}),e.jsx("span",{className:"font-medium text-gray-900",children:g.toFixed(1)}),e.jsxs("span",{children:["(",s.review_count,")"]})]}),N&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(j,{size:14,className:"text-orange-500 flex-shrink-0"}),e.jsxs("p",{className:"text-xs text-orange-600 font-medium",children:["¡Solo quedan ",s.stock," unidades!"]})]}),s.free_shipping&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(w,{size:14,className:"text-green-600 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-green-700 font-medium",children:"Envío gratis"})]}),s.warranty&&e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[e.jsx(L,{size:14,className:"text-blue-600 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:s.warranty})]}),e.jsx("div",{className:"flex items-center justify-between mb-3 mt-auto",children:e.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[e.jsx("span",{className:"text-base font-bold text-gray-900",children:p(c,r)}),n&&e.jsx("span",{className:"text-sm text-gray-500 line-through",children:p(i,r)}),s.price_per_unit&&e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:s.price_per_unit})]})}),s.supplier&&e.jsx("div",{className:"border-t border-gray-100 pt-3 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.supplier.logo_url?e.jsx("img",{src:s.supplier.logo_url,alt:s.supplier.name,className:"w-8 h-8 rounded-full object-cover border border-gray-200",onError:l=>{l.target.src="https://placehold.co/32x32/e5e7eb/6b7280?text=S"}}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200",children:e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:s.supplier.name?.charAt(0)?.toUpperCase()||"S"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:s.supplier.name}),s.supplier.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_,{size:10,className:"text-gray-500 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.supplier.location})]})]}),s.supplier.verified&&e.jsx(S,{size:16,className:"text-blue-600 flex-shrink-0"})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>d&&d(s),className:"flex-1 py-2 px-3 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 bg-gray-800 hover:bg-gray-900 text-white shadow-sm hover:shadow-md active:scale-[0.98]","aria-label":`Ver detalles de ${s.name}`,children:[e.jsx(k,{size:16}),"Ver detalles"]})})]})]})};export{F as P,Z as S,I as a};
