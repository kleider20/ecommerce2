import{e as g,r as u,j as e,L as j,H as M}from"./app-veqlbRop.js";import{c as l}from"./createLucideIcon-CyTgOFtE.js";import{S as _}from"./shield-CDJkofxC.js";import{X as C}from"./x-CXVp1HMM.js";import{C as $}from"./credit-card-Cew9DDo5.js";import{S as z}from"./search-Cjp4NVQJ.js";const O=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],A=l("bell",O);const L=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],B=l("building-2",L);const E=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],T=l("house",E);const H=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],U=l("list",H);const R=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],I=l("menu",R);const D=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],P=l("trending-up",D);const V=[["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],q=l("user-round-cog",V);const J=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],F=l("users",J),W=[{id:"dashboard",label:"Dashboard",icon:T,routeName:"dashboard",permission:null},{id:"roles",label:"Roles y Permisos",icon:q,routeName:"roles.index",permission:null}],X=({isOpen:r,onClose:h})=>{const{props:y}=g(),n=y.auth?.user;if(!n)return null;const i=n.permissions||[],d=n.roles||[],c=W.map(s=>{const t=route(s.routeName),o=s.submenu?.map(x=>({...x,route:route(x.routeName)}));return{...s,route:t,submenu:o}}),m=()=>{if(typeof window<"u"){const s=localStorage.getItem("sidebarOpenSubmenus");return s?new Set(JSON.parse(s)):new Set}return new Set},[a,f]=u.useState(m());u.useEffect(()=>{localStorage.setItem("sidebarOpenSubmenus",JSON.stringify([...a]))},[a]);const b=()=>route().current("roles.*");u.useEffect(()=>{const s=new Set(a);c.forEach(t=>{t.submenu&&t.submenu.some(o=>route().current(o.routeName))&&s.add(t.id)}),(s.size!==a.size||![...s].every(t=>a.has(t)))&&f(s)},[route().current()]);const N=c.map(s=>{if(s.submenu){const t=s.submenu.filter(o=>!o.permission||i.includes(o.permission));return t.length>0?{...s,submenu:t}:null}return!s.permission||i.includes(s.permission)?s:null}).filter(Boolean),v=s=>{const t=new Set(a);t.has(s)?t.delete(s):t.add(s),f(t)},w=s=>s.some(t=>route().current(t.routeName));return e.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-gray-900 shadow-2xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between h-20 px-6 bg-gradient-to-r from-gray-800 to-gray-900 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-white",children:"SuperAdmin"})]}),e.jsx("button",{onClick:h,className:"lg:hidden p-1 rounded-md hover:bg-gray-700 text-gray-300",children:e.jsx(C,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"mt-8 px-4 space-y-2",children:N.map(s=>{const t=s.submenu,o=s.id==="roles"?b():t?w(s.submenu):route().current(s.routeName),x=a.has(s.id);return t?e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>v(s.id),className:`w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${o?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(s.icon,{className:"h-5 w-5 mr-3"}),s.label]}),e.jsx("svg",{className:`h-4 w-4 transition-transform duration-200 ${x?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&e.jsx("div",{className:"ml-6 mt-1 space-y-1",children:s.submenu.map(p=>{const k=route().current(p.routeName),S=p.icon||U;return e.jsxs(j,{href:p.route,className:`flex items-center px-4 py-2 text-xs rounded-lg ${k?"bg-emerald-600 text-white":"text-gray-300 hover:bg-gray-800"}`,children:[e.jsx(S,{className:"h-3.5 w-3.5 mr-2"}),p.label]},p.id)})})]},s.id):e.jsxs(j,{href:s.route,className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${o?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(s.icon,{className:"h-5 w-5 mr-3"}),s.label]},s.id)})}),e.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-800",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center text-white font-bold text-sm",children:n.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:n.name}),e.jsx("p",{className:"text-xs text-gray-400",children:d.join(", ")})]})]})})]})},G=[{id:1,type:"store",message:"Nueva tienda registrada",time:"2 min",store:"TechStore México"},{id:2,type:"user",message:"Nuevo administrador aprobado",time:"15 min",user:"Carlos López"},{id:3,type:"payment",message:"Comisión procesada",time:"1 hora",amount:"$2,450.99"},{id:4,type:"review",message:"Nueva reseña de plataforma",time:"2 horas",rating:5}],K=r=>{switch(r){case"store":return e.jsx(B,{className:"h-4 w-4 text-blue-400"});case"user":return e.jsx(F,{className:"h-4 w-4 text-purple-400"});case"payment":return e.jsx($,{className:"h-4 w-4 text-emerald-400"});case"review":return e.jsx(P,{className:"h-4 w-4 text-orange-400"});default:return null}},Q=()=>e.jsxs("div",{className:"absolute right-0 mt-3 w-80 bg-gray-800 rounded-xl shadow-2xl border border-gray-700 z-50 opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-all duration-300 transform translate-y-2 group-hover:translate-y-0",children:[e.jsx("div",{className:"p-4 border-b border-gray-700",children:e.jsx("h4",{className:"text-sm font-semibold text-white",children:"Notificaciones del Sistema"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:G.map(r=>e.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-700 border-b border-gray-700 last:border-b-0",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:K(r.type)}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("p",{className:"text-sm text-white",children:r.message}),(r.store||r.user||r.amount)&&e.jsx("p",{className:"text-xs text-gray-400",children:r.store||r.user||r.amount}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.time})]})]},r.id))}),e.jsx("div",{className:"p-3 border-t border-gray-700",children:e.jsx("button",{className:"w-full text-center text-sm text-emerald-400 hover:text-emerald-300 font-medium",children:"Ver todas"})})]}),Y=({onMenuClick:r,searchTerm:h,onSearchChange:y})=>{const{auth:n}=g().props,i=n?.user,[d,c]=u.useState(!1),m=new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return i?e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900 shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between px-6 h-20",children:[e.jsx("button",{onClick:r,className:"lg:hidden p-2 rounded-lg text-gray-300 hover:text-white hover:bg-gray-800",children:e.jsx(I,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex-1 max-w-2xl mx-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Buscar en toda la plataforma...",className:"w-full pl-12 pr-4 py-3 text-sm bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-emerald-500",value:h,onChange:a=>y(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"hidden md:block text-right",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Hoy"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:m})]}),e.jsxs("div",{className:"relative group",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsxs("button",{className:"p-3 text-gray-300 hover:text-white relative bg-gray-800 hover:bg-gray-700 rounded-xl",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"6"})]}),d&&e.jsx(Q,{})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center text-white font-bold text-sm",children:i.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"hidden md:inline text-white text-sm font-medium",children:i.name})]})]})]})}):null},ne=({title:r,children:h})=>{const{url:y}=g(),{appName:n}=g().props,{site_name:i,favicon_url:d,logo_url:c}=g().props.system,[m,a]=u.useState(!1),[f,b]=u.useState("");return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:r?`${r} - ${n}`:n,children:d&&e.jsx("link",{rel:"icon",href:d})}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx(Y,{onMenuClick:()=>a(!0),searchTerm:f,onSearchChange:b}),e.jsxs("div",{className:"flex",children:[m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-40 lg:hidden",onClick:()=>a(!1)}),e.jsx(X,{isOpen:m,onClose:()=>a(!1)}),e.jsx("div",{className:"flex-1 pt-20",children:e.jsx("main",{className:"p-6",children:h})})]})]})]})};export{B,ne as S,P as T,F as U};
